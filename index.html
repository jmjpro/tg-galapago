<!DOCTYPE html>
<html lang="en">
	<head>
		<script>document.writeln('<title>' + document.domain + ': Galapago</title>');</script>
		<link rel="stylesheet" type="text/css" href="css/debugConsole.css"/>
		<link rel="stylesheet" type="text/css" href="css/global.css"/>
		<link rel="stylesheet" type="text/css" href="css/mainMenuScreen.css"/>
		<!--script src="http://jserrlog.appspot.com/jserrlog.js"></script-->
		<!--script src="js/debugConsole.js"></script-->
		<script src="ext/lodash.min.js"></script>
		<script src="ext/imgpreload.js"></script>
		<script src="ext/queryString.js"></script>
		<script src="ext/q.min.js"></script>
		<!--script src="http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0/zepto.min.js"></script-->
		<script src="ext/zepto-1.0.min.js"></script>
		<script src="ext/zepto-touch-1.0.js"></script>
		<script src="ext/gal.js"></script>
		<script src="ext/i18next-1.6.3.min.js"></script>
		<script src="../sdk/tgh5.min.js"></script>
		<script src="js/game.js"></script>
		<script src="js/dialogMenu.js"></script>
		<script src="js/dialogHelp.js"></script>
		<script src="js/mainMenuScreen.js"></script>
		<script src="js/score.js"></script>
		<script src="js/blobCollection.js"></script>
		<script src="js/tilesEventProcessor.js"></script>
		<script src="js/spriteSheet.js"></script>
		<script src="js/imageCollage.js"></script>
		<script src="js/mapScreen.js"></script>
		<script src="js/levelAnimation.js"></script>
		<script src="js/loadingScreen.js"></script>
		<script src="js/canvasUtil.js"></script>
		<script src="js/powerUp.js"></script>
		<script src="js/bonusFrenzy.js"></script>
		<script src="js/bubbleTip.js"></script>
		<script src="js/audioPlayer.js"></script>
		<script src="js/priorityQueue.js"></script>
		
		<script>
			var sdkApi, galapagoVersion;
			galapagoVersion = 'Ver. 1.6.0';
			function loadGame(){
				if( typeof jsErrLog !== 'undefined' ) {
						jsErrLog.debugMode = false;
						jsErrLog.info = "Galapago debugging";                
				}
				if( typeof TGH5 !== 'undefined' ) {
					TGH5.Api.init("Galapago", {supportedLanguages: ["en", "ru", "es", "fr", "de"]}, { sdkHome: "../SDK/" }).done(function (api) {
						sdkApi = api;
				        // SDK successfully initialized
				        api.preferredLanguage().always(function (language) {
					        /* Update the UI to use the selected language */
					        //i18n.init({ lng: 'en' , fallbackLng: 'en'});
					    });
				    }).fail(function (error) {
				        console.log(error);
				    });
				}
				i18n.init({ lng: 'en' , fallbackLng: 'en'});
		    	LoadingScreen.init();
			}
		</script>
		<!--script src="ext/stacktrace-min-0.4.js"></script-->
		<!--script src="ext/profiler.js"</script-->>
	</head>
	
	<body onload="loadGame()">
		<div id="debug-console"></div>

		<div id="screen-loading" class="canvas-fullscreen">
			<canvas id="layer-background" style="z-index: 1;"></canvas>
			<canvas id="layer-progress-bar" style="z-index: 2;" tabindex="1"></canvas>
			<span id="copyright">I-play is a trademark and trading name of Oberon Media,Inc. and its subsidiaries. &copy; 2008 Oberon Media. All Rights Reserved.<br/>
			&copy; 2013 TransGaming Interactive Corp. All RIGHTS RESERVED.</span>
		</div>

		<div id="screen-map" class="canvas-fullscreen">
			<canvas id="layer-background" style="z-index: 1;" tabindex="1"></canvas>
			<canvas id="layer-map" style="z-index: 2;" tabindex="2" width="1279" height="670"></canvas>
			<canvas id="layer-map-other-animation" style="z-index: 3;" tabindex="3"></canvas>
			<canvas id="layer-map-animation" style="z-index: 4;" tabindex="4"></canvas>
			
			<ul id="map-nav">
				<li><div class="vertical-align-shiv"><div id="button-play-map" class="nav-button" onclick="Galapago.levelMap.handleKeyboardSelect();"><p>PLAY</p></div></div></li>
				<li><div class="vertical-align-shiv"><div id="button-start-map" class="nav-button" onclick="Galapago.levelMap.setHotspotLevel(LevelMap.getNextLevel());Galapago.levelMap.handleKeyboardSelect();"><p>START NEXT LEVEL</p></div></div></li>
				<li><div class="vertical-align-shiv"><div id="button-reset-map" class="nav-button" onclick="window.dialog = new DialogMenu('layer-map-other-animation', Galapago.levelMap, 'dialog-reset-game', 'button-medium-hilight')"><p>RESET MAP</p></div></div></li>
				<li><div class="vertical-align-shiv"><div id="button-menu-map" class="nav-button" onclick="Galapago.levelMap.cleanupAnimationAndSound();MainMenuScreen.init('screen-map', Galapago.mapScreen);"><p>MENU</p></div></div></li>
				<li><div class="vertical-align-shiv"><div id="button-quit-map" class="nav-button" onclick="window.dialog = new DialogMenu('layer-power-up', this, 'dialog-quit', 'button-huge-hilight');"><p>QUIT</p></div></div></li>
			</ul>
		</div>

		<div id="screen-game" class="canvas-fullscreen">
			<canvas id="layer-background" style="z-index: 1;" width="1279" height="720"></canvas>
			<canvas id="layer-grid" class="layer-board" style="z-index: 2;"></canvas>
			<canvas id="layer-gold" class="layer-board" style="z-index: 3;"></canvas>
			<canvas id="layer-creature" class="layer-board" style="z-index: 4;"></canvas>
			<canvas id="layer-hilight" class="layer-board" style="z-index: 5;" tabindex="1"></canvas>
			<canvas id="layer-bonus-frenzy" style="z-index: 6;" tabindex="2"></canvas>
			<canvas id="layer-score" style="z-index: 2;" tabindex="2"></canvas>
			<canvas id="layer-power-up" style="z-index: 2;" tabindex="3"></canvas>
			<canvas id="layer-danger-bar" style="z-index: 2;"></canvas>
			<canvas id="layer-collection-key" style="z-index: 2;"></canvas>
			<canvas id="layer-game-animation" style="z-index: 5;"></canvas>
			<canvas id="layer-game-lightning" style="z-index: 5;"></canvas>
			<canvas id="layer-bob-cervantes" style="z-index: 9;"></canvas>
		</div>

		<div id="screen-main-menu" class="canvas-fullscreen">
			<!-- hidden until after IFA exhibition
			div id="button-change-player">
				<span id="hello-player">Hello Tim!</span>
				<span id="click-here">Click here to change player</span>
			</div-->
			<div id="button-timed" class="main-menu-mode"></div>
			<div id="button-relaxed" class="main-menu-mode"></div>
			<table id="main-menu-button-group">
				<tr>
					<td id="button-how-to-play" class="main-menu-button">How To Play</td>
					<td id="button-quit" class="main-menu-button">Quit</td>
					<!-- hidden until after IFA exhibition td id="button-top-scores" class="main-menu-button">Top Scores</td-->
				</tr>
				<!-- hidden until after IFA exhibition
				<tr>
					<td id="button-set-language" class="main-menu-button">Set Language</td>
					<td id="button-quit" class="main-menu-button">Quit</td>
				</tr>
			-->
			</table>

			<!--
			<ul class="galapago-drop-down">
				<li>English</li>
				<li>French</li>
				<li>German</li>
				<li>Russian</li>
				<li>Spanish</li>
			</ul>
			-->
		</div>

		<div id="bubbleTip" class="bubbleTip"></div>
	</body>
</html>