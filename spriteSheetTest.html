<!DOCTYPE html>
<html>    
    <head>
        <title>SpriteSheet Test</title>
        <style>
        body {background-color: blue;}
        #canvas {border: 1px black solid;}
        </style>
        <script>
        IMAGE_MAGNIFICATION = 2;

    function SpriteSheet(image) {
        this.image = image;
        //create a temporary canvas and position it offscreen;
        var tempCanvas = document.createElement('canvas');
        document.body.appendChild(tempCanvas);
        this.canvas = tempCanvas;
        this.canvas.style.display = 'none';
        this.canvas.style.position = 'absolute';
        this.canvas.style.left = -1000;
        this.canvas.style.top = -1000;
        this.ctx = this.canvas.getContext('2d');
    }

    //returns a JavaScript image object representing the specified slice of the sprite sheet
    SpriteSheet.prototype.getSprite = function(x, y, width, height) {
        var sprite, spriteURL;
        this.canvas.width = width;
        this.canvas.height = height;
        this.ctx.drawImage(this.image, x, y, width, height, 0, 0, width, width);
        spriteURL = this.canvas.toDataURL();
        sprite = new Image();
        sprite.src = spriteURL;
        return sprite;
    }; //SpriteSheet.prototype.getSprite

    function displayImages() {
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        var numImages = 7;
        var width = 47;
        var height = 47;
        var spriteSheet, spriteIt, sprite, leftOffset;
        leftOffset = 0;
        spriteSheet = new SpriteSheet(document.getElementById('sprite-sheet'));
        for( spriteIt = 0; spriteIt < numImages; spriteIt++ ) {
            sprite = spriteSheet.getSprite(leftOffset, 0, width, height);
            ctx.drawImage(sprite, leftOffset, 0, sprite.width * IMAGE_MAGNIFICATION, sprite.height * IMAGE_MAGNIFICATION);
            leftOffset += sprite.width * IMAGE_MAGNIFICATION;
        }
    }
        </script>
    </head>
    
    <body onload="displayImages();">
        <h1>Hello</h1>
        <h3>Original Images</h3>
        <img src="res/img/gold-tiles/tile_gold_1.png" title="original image"/>
        <img src="res/img/gold-tiles/tile_gold_2.png" title="original image"/>
        <img src="res/img/gold-tiles/tile_gold_3.png" title="original image"/>
        <img src="res/img/gold-tiles/tile_gold_4.png" title="original image"/>
        <img src="res/img/gold-tiles/tile_gold_5.png" title="original image"/>
        <img src="res/img/gold-tiles/tile_gold_6.png" title="original image"/>
        <img src="res/img/gold-tiles/tile_gold_7.png" title="original image"/>
        <h3>Sprite Sheet</h3>
        <img id="sprite-sheet" src="res/img/gold-tiles/tile_gold.png" title="sprite"/>
        <h3>Sprites</h3>
        <canvas id="canvas" width="700" height="94"></canvas>
    </body>
</html>