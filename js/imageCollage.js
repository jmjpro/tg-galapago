ImageCollage.COLLAGE_ARRAY = [
	{
		'collageId': 'collages/main_menu_static.png',
		'imageCoordinateArray': [
			 {'cell': [0, 0, 611, 121], 'id': 'main-menu/main_menu_button_change_player_selected.png'}, 
			 {'cell': [0, 121, 611, 121], 'id': 'main-menu/main_menu_button_change_player_regular.png'},
			 {'cell': [0, 242, 467, 329], 'id': 'main-menu/main_menu_button_timed_selected.png'},
			 {'cell': [0, 571, 467, 329], 'id': 'main-menu/main_menu_button_timed_regular.png'},
			 {'cell': [467, 242, 467, 329], 'id': 'main-menu/main_menu_button_relaxed_selected.png'}, 
			 {'cell': [467, 571, 467, 329], 'id': 'main-menu/main_menu_button_relaxed_regular.png'},
			 {'cell': [611, 0, 331, 116], 'id': 'main-menu/main_menu_button_options_selected.png'}, 
			 {'cell': [611, 116, 331, 116], 'id': 'main-menu/main_menu_button_options_regular.png'},
			 {'cell': [942, 0, 25, 25], 'id': 'main-menu/main_menu_arrow_left.png'},
			 {'cell': [942, 25, 25, 25], 'id': 'main-menu/main_menu_arrow_right.png'}
		]
	},
	{
		'collageId': 'collages/map_level_ui_static.png',
		'imageCoordinateArray': [
			 {'cell': [0, 0, 52, 514], 'id': 'screen-game/danger_bar.png'},
			 {'cell': [52, 0, 70, 71], 'id': 'screen-game/PowerUps_Flame_Disabled.png'},
			 {'cell': [52, 71, 70, 71], 'id': 'screen-game/PowerUps_Flame_Rollover.png'},
			 {'cell': [52, 142, 70, 71], 'id': 'screen-game/PowerUps_Flame_Pressed.png'},
			 {'cell': [52, 213, 70, 71], 'id': 'screen-game/PowerUps_Flame_Activated.png'},
			 {'cell': [122, 0, 70, 71], 'id': 'screen-game/PowerUps_Swap_Disabled.png'},
			 {'cell': [122, 71, 70, 71], 'id': 'screen-game/PowerUps_Swap_Rollover.png'},
			 {'cell': [122, 142, 70, 71], 'id': 'screen-game/PowerUps_Swap_Pressed.png'},
			 {'cell': [122, 213, 70, 71], 'id': 'screen-game/PowerUps_Swap_Activated.png'},
			 {'cell': [192, 0, 70, 71], 'id': 'screen-game/PowerUps_Shuffle_Disabled.png'},
			 {'cell': [192, 71, 70, 71], 'id': 'screen-game/PowerUps_Shuffle_Rollover.png'},
			 {'cell': [192, 142, 70, 71], 'id': 'screen-game/PowerUps_Shuffle_Pressed.png'},
			 {'cell': [261, 0, 19, 284], 'id': 'screen-game/PowerUps_Holder.png'},
			 {'cell': [281, 0, 38, 26], 'id': 'screen-map/next_level_arrow_down.png'},
			 {'cell': [281, 26, 37, 24], 'id': 'screen-map/next_level_arrow_left_down.png'},
			 {'cell': [281, 50, 37, 24], 'id': 'screen-map/next_level_arrow_right_down.png'},
			 {'cell': [281, 74, 30, 24], 'id': 'screen-map/next_level_arrow_left_up.png'},
			 {'cell': [281, 98, 30, 24], 'id': 'screen-map/next_level_arrow_right_up.png'},
			 {'cell': [281, 122, 34, 25], 'id': 'screen-map/next_level_arrow_left.png'},
			 {'cell': [281, 147, 34, 25], 'id': 'screen-map/next_level_arrow_right.png'},
			 {'cell': [281, 172, 27, 23], 'id': 'screen-map/next_level_arrow_up.png'},
			 {'cell': [319, 0, 56, 56], 'id': 'screen-game/tile_2.png'},
			 {'cell': [319, 56, 52, 52], 'id': 'screen-game/tile_hilight'},
			 {'cell': [281, 172, 27, 23], 'id': 'screen-game/tile_1.png'},
			 {'cell': [52, 284, 150, 55], 'id': 'screen-map/map_button_regular.png'},
			 {'cell': [202, 284, 150, 255], 'id': 'screen-map/map_button_hilight.png'},
			 {'cell': [52, 339, 120, 47], 'id': 'screen-game/game_button_regular.png'},
			 {'cell': [172, 339, 120, 47], 'id': 'screen-game/game_button_hilight.png'},
			 {'cell': [292, 339, 47, 47], 'id': 'screen-game/item_collected_mark.png'},
			 {'cell': [52, 386, 186, 43], 'id': 'screen-map/level_stars_gold.png'},
			 {'cell': [52, 429, 186, 43], 'id': 'screen-map/level_stars_silver.png'},
			 {'cell': [238, 386, 39, 35], 'id': 'screen-map/green_v.png'},
			 {'cell': [277, 386, 30, 35], 'id': 'screen-map/level_lock.png'},
			 {'cell': [307, 386, 24, 52], 'id': 'screen-game/Bracket_Left.png'},
			 {'cell': [331, 386, 24, 52], 'id': 'screen-game/Bracket_Right.png'}
		]
	},
	{
		'collageId': 'collages/level_ui_animated.png',
		'imageCoordinateArray': [
			{'cell': [0, 0, 1029, 149], 'id': 'screen-game/Powerup_active_strip.png'},
			/*{'cell': [0, 150, 679, 113], 'id': 'screen-game/Powerup_ready_strip.png'},*/
			{'cell': [13, 298, 283, 433], 'id': 'screen-game/danger_bar_fill_strip.png'},
			{'cell': [318, 723, 39, 45], 'id': 'screen-game/danger_bar_red_button_regular.png'},
			{'cell': [363, 718, 52, 56], 'id': 'screen-game/danger_bar_red_button_warning.png'}
		]
	},
	{
		'collageId': 'collages/map_animated.png',
		'imageCoordinateArray': [
			 {'cell': [0, 0, 5700, 216], 'id': 'screen-map/strip_lava_idle.png'},
			 {'cell': [0, 216, 4088, 210], 'id': 'screen-map/strip_bomb_left_one.png'},
			 {'cell': [0, 426, 5600, 242], 'id': 'screen-map/strip_bomb_left_two.png'},
			 {'cell': [0, 668, 682, 247], 'id': 'screen-map/strip_bomb_mid.png'},
			 {'cell': [682, 668, 336, 36], 'id': 'screen-map/strip_bonfire.png'},
			 {'cell': [1018, 668, 243, 65], 'id': 'screen-map/strip_game_start_arrow.png'},
			 {'cell': [0, 914, 4416, 196], 'id': 'screen-map/strip_bomb_right.png'}
		]
	},
	{
		'collageId': 'collages/on_board_common_animated.png',
		'imageCoordinateArray': [
			 /*{'cell': [0, 0, 244, 2336], 'id': 'screen-game/creature_explosion_strip.png'},*/
			 {'cell': [292, 0, 466, 690], 'id': 'screen-game/lightning_strip.png'},
			 {'cell': [292, 690, 5600, 242], 'id': 'screen-game/cocoon_removed_strip.png'},
			 /*{'cell': [359, 690, 82, 648], 'id': 'screen-game/hint_strip.png'},*/
			 /*{'cell': [441, 690, 60, 420], 'id': 'screen-game/tile_mark_strip.png'},*/
			 {'cell': [1018, 668, 47, 329], 'id': 'screen-game/tile_gold.png'}
		]
	},
	{
		'collageId': 'collages/on_board_beach_animated.png',
		'imageCoordinateArray': [
			 {'cell': [0, 0, 644, 92], 'id': 'creatures/beach/blue_crab_jumps.png'},
			 {'cell': [0, 92, 644, 92], 'id': 'creatures/beach/green_turtle_jumps.png'},
			 {'cell': [0, 184, 644, 92], 'id': 'creatures/beach/pink_frog_jumps.png'},
			 {'cell': [0, 276, 644, 92], 'id': 'creatures/beach/red_starfish_jumps.png'},
			 {'cell': [0, 368, 644, 92], 'id': 'creatures/beach/teal_blob_jumps.png'},
			 {'cell': [0, 460, 644, 92], 'id': 'creatures/beach/violet_crab_jumps.png'},
			 {'cell': [0, 552, 644, 92], 'id': 'creatures/beach/yellow_fish_jumps.png'},
			 {'cell': [0, 644, 460, 46], 'id': 'creatures/beach/blue_crab_rollover.png'},
			 {'cell': [0, 690, 460, 46], 'id': 'creatures/beach/green_turtle_rollover.png'},
			 {'cell': [0, 736, 460, 46], 'id': 'creatures/beach/pink_frog_rollover.png'},
			 {'cell': [0, 782, 460, 46], 'id': 'creatures/beach/red_starfish_rollover.png'},
			 {'cell': [0, 828, 460, 46], 'id': 'creatures/beach/teal_blob_rollover.png'},
			 {'cell': [0, 874, 460, 46], 'id': 'creatures/beach/violet_crab_rollover.png'},
			 {'cell': [0, 920, 460, 46], 'id': 'creatures/beach/yellow_fish_rollover.png'}
		]
	},
	{
		'collageId': 'collages/on_board_forest_animated.png',
		'imageCoordinateArray': [
			 {'cell': [0, 0, 644, 92], 'id': 'creatures/forest/blue_beetle_jumps.png'},
			 {'cell': [0, 92, 644, 92], 'id': 'creatures/forest/green_butterfly_jumps.png'},
			 {'cell': [0, 184, 644, 92], 'id': 'creatures/forest/pink_lizard_jumps.png'},
			 {'cell': [0, 276, 644, 92], 'id': 'creatures/forest/red_beetle_jumps.png'},
			 {'cell': [0, 368, 644, 92], 'id': 'creatures/forest/teal_bug_jumps.png'},
			 {'cell': [0, 460, 644, 92], 'id': 'creatures/forest/violet_moth_jumps.png'},
			 {'cell': [0, 552, 644, 92], 'id': 'creatures/forest/yellow_frog_jumps.png'},
			 {'cell': [0, 644, 460, 46], 'id': 'creatures/forest/blue_beetle_rollover.png'},
			 {'cell': [0, 690, 460, 46], 'id': 'creatures/forest/green_butterfly_rollover.png'},
			 {'cell': [0, 736, 460, 46], 'id': 'creatures/forest/pink_lizard_rollover.png'},
			 {'cell': [0, 782, 460, 46], 'id': 'creatures/forest/red_beetle_rollover.png'},
			 {'cell': [0, 828, 460, 46], 'id': 'creatures/forest/teal_bug_rollover.png'},
			 {'cell': [0, 874, 460, 46], 'id': 'creatures/forest/violet_moth_rollover.png'},
			 {'cell': [0, 920, 460, 46], 'id': 'creatures/forest/yellow_frog_rollover.png'}
		]
	},
	{
		'collageId': 'collages/on_board_cave_animated.png',
		'imageCoordinateArray': [
			 {'cell': [0, 0, 644, 92], 'id': 'creatures/cave/blue_crystal_jumps.png'},
			 {'cell': [0, 92, 644, 92], 'id': 'creatures/cave/green_frog_jumps.png'},
			 {'cell': [0, 184, 644, 92], 'id': 'creatures/cave/pink_spike_jumps.png'},
			 {'cell': [0, 276, 644, 92], 'id': 'creatures/cave/red_beetle_jumps.png'},
			 {'cell': [0, 368, 644, 92], 'id': 'creatures/cave/teal_flyer_jumps.png'},
			 {'cell': [0, 460, 644, 92], 'id': 'creatures/cave/violet_lizard_jumps.png'},
			 {'cell': [0, 552, 644, 92], 'id': 'creatures/cave/yellow_bug_jumps.png'},
			 {'cell': [0, 644, 460, 46], 'id': 'creatures/cave/blue_crystal_rollover.png'},
			 {'cell': [0, 690, 460, 46], 'id': 'creatures/cave/green_frog_rollover.png'},
			 {'cell': [0, 736, 460, 46], 'id': 'creatures/cave/pink_spike_rollover.png'},
			 {'cell': [0, 782, 460, 46], 'id': 'creatures/cave/red_beetle_rollover.png'},
			 {'cell': [0, 828, 460, 46], 'id': 'creatures/cave/teal_flyer_rollover.png'},
			 {'cell': [0, 874, 460, 46], 'id': 'creatures/cave/violet_lizard_rollover.png'},
			 {'cell': [0, 920, 460, 46], 'id': 'creatures/cave/yellow_bug_rollover.png'}
		]
	}
];

	/* todo: add as second row to collages/level_ui_animated.png once sprite sheet coordinate matrix is adjusted
			 
	*/

// assumes a sheet of symmetric images defined by a 1 or 2 dimensional image matrix
function ImageCollage(collageDescriptor) {
	this.image = LoadingScreen.gal.get(collageDescriptor.collageId);
	this.collageId = collageDescriptor.collageId;
	this.imageCoordinateArray = collageDescriptor.imageCoordinateArray;
	var tempCanvas = document.createElement('canvas');
	this._canvas = tempCanvas;
	this._canvas.style.display = 'none';
	this._canvas.style.position = 'absolute';
	this._canvas.style.left = -1000;
	this._canvas.style.top = -1000;
	this._ctx = this._canvas.getContext('2d');
} //constructor 

//return an array of image objects corresponding to the rectangular regions in the this.coordinateArray
ImageCollage.prototype.getImage = function (imageId) {
	var imageCollage, imageCoordinate, image, x, y, width, height;
	imageCollage = this;
	imageCoordinate = _.find( this.imageCoordinateArray, {'id' : imageId} );
	x = imageCoordinate.cell[0];
	y = imageCoordinate.cell[1];
	width = imageCoordinate.cell[2];
	height = imageCoordinate.cell[3];
	imageCollage._canvas.width = width;
	imageCollage._canvas.height = height;
	imageCollage._ctx.drawImage(imageCollage.image, x, y, width, height, 0, 0, width, height);
	image = new Image();
	image.src = imageCollage._canvas.toDataURL("image/png");
	image.id = imageCoordinate.id;
	return image;
}; //ImageCollage.prototype.getImage()

//return an array of image objects corresponding to the rectangular regions in the this.coordinateArray
ImageCollage.prototype.getImages = function () {
	var imageCollage, imageArray;
	imageCollage = this;
	imageArray = [];
	_.each( this.imageCoordinateArray, function( imageCoordinate ) {
		imageArray.push( imageCollage.getImage(imageCoordinate.id) );
	});
	return imageArray;
}; //ImageCollage.prototype.getImages()

ImageCollage.loadByName = function (collageId) {
	var imageCollage, collageDescriptor;
	/*console.debug( 'collageId: ' + collageId );*/
	collageDescriptor = _.find( ImageCollage.COLLAGE_ARRAY, function( collageDescriptor ) {
		if( collageDescriptor.collageId === collageId ) {
			return collageDescriptor;
		}
	});
	imageCollage = new ImageCollage(collageDescriptor);
	return imageCollage;
}; //ImageCollage.loadByName()